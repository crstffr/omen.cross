<div class="patch-columns">

    <div class="patch-column patch-groups">

        <div ng-repeat="group in $ctrl.groups.array | orderBy: 'index'"
                   ng-show="$ctrl.ready"
                   class="patch-group">

            <h2 class="title is-5 no-select">{{group.name}}</h2>

            <device-container device-group="{{group._id}}" >

                <patch-device
                        ng-repeat="(key, device) in $ctrl.devices[group._id].array | orderBy: 'index'"
                        device-id="{{device._id}}"
                        device-group="{{group._id}}"
                        device-input="{{device.input}}"
                        device-output="{{device.output}}"

                     class="no-select drag-handle patch-item field is-grouped">

                    <div class="control" ng-if="device.output">
                            <span class="icon">
                                <i class="fa fa-dot-circle-o"></i>
                            </span>
                    </div>
                    <div class="control" ng-if="!device.output">
                            <span class="icon">
                                <i class="fa fa-volume-up"></i>
                            </span>
                    </div>
                    <div class="control is-expanded has-text-centered patch-item-name">
                        {{device.name}}
                    </div>
                    <div class="control" ng-if="device.input">
                            <span class="icon">
                                <i class="fa fa-long-arrow-right"></i>
                            </span>
                    </div>
                    <div class="control" ng-if="!device.input">
                            <span class="icon">
                                <i class="fa fa-volume-up"></i>
                            </span>
                    </div>
                </patch-device>
            </device-container>

        </div>

    </div>
    <div class="patch-column patch-panel">
        <h2 class="title is-5 no-select">Patches</h2>
        <dropzone></dropzone>
    </div>

</div>